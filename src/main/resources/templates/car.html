<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>New Tour</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.1/firebase-firestore-compat.js"></script>
    <link rel="stylesheet" href="/css/carPageStyle.css">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <script src="/javascript/firebase-auth.js"></script>
</head>
<body onload="newLegCheck()">

<div class="header"></div>
<div class="logo-container">
    <img src="images/EcoTour.png" alt="LOGO" width="100" height="100">
</div>

<div class="banner">
    <a class="toursp" href="/SelectTour">Edit/Add Tour</a>
    <a class="pasttourp" href="/tours">Past Tours</a>
    <a class="offestp" href="/offsets">Offsets</a>
    <a class="sample" href="/sampleTicket">Sample Ticket</a>
</div>

<div class="icon-container" onclick="toggleCollapsible()">
    <i class="fa-solid fa-user"></i>
</div>

<div class="content">
    <p id="userInfo" style="display: none;"></p>
    <div id="logoutSection" style="display: none;">
        <button class="logoutButton" onclick="logout()">Logout</button>
    </div>
</div>

<div th:if="${tourName != null}" style="position: absolute; top: 30vh;">
    <p>Tour Name: <strong id="tourNameHeaderText" th:text="${tourName}"></strong></p>
</div>

<div id="carFormsNewCar" style="margin-top: 100px;">
    <form id="yearForm" action="/getMakes" method="get">
        <input  class="dropdown" type="text" id="carName" name="carName" required placeholder="Enter a Car Nickname">
        <br><br><br>

        <input  class="dropdown" type="text" id="year" name="year" required placeholder="Model Year">
    </form>
    <br><br>

    <form id="makeForm" action="/getModels" method="get">
        <select class="dropdown" id="make" name="make" required>
            <option value="">-- Choose a Make --</option>
        </select>
    </form>
    <br><br>

    <form id="modelForm" action="/getFuelSize" method="get">
        <select class="dropdown" id="model" name="model" required placeholder="Model">
            <option value="">-- Choose a Model --</option>
        </select>
    </form>
    <br><br>

    <form id="tankForm" action="/getFuelInfo" method="get">
        <select class="dropdown" id="tank" name="tank" required placeholder="Tank">
            <option value="">-- Choose a Tank Size --</option>
        </select>
        <br><br>
        <button style="margin-top:10px; margin-left: 130px; background-color: #01224f; color: #daeaf8;" class="logoutButton" type="submit">SAVE CAR</button>
    </form>
    <br><br>
</div>
<br><br>

<script>
    function toggleCollapsible() {
        var content = document.querySelector(".content");
        var userInfo = document.getElementById("userInfo");
        var logoutSection = document.getElementById("logoutSection");

        if (content.style.display === "none" || content.style.display === "") {
            content.style.display = "block";
            userInfo.style.display = "block";
            logoutSection.style.display = "block";
        } else {
            content.style.display = "none";
            userInfo.style.display = "none";
            logoutSection.style.display = "none";
        }
    }

</script>

<script src="/javascript/calculator-response.js"></script>

</body>
</html>
